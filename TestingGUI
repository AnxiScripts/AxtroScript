-- Destroy previous instance if re-injected
pcall(function() game.CoreGui:FindFirstChild("NinjaGUI"):Destroy() end)

-- Create UI
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "NinjaGUI"
ScreenGui.ResetOnSpawn = false

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 400, 0, 300)
Frame.Position = UDim2.new(0.3, 0, 0.3, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true

-- Title
local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "ðŸ¥· CodeNinja Exploit GUI"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

-- Tabs
local Tabs = {}
local tabNames = {"Scripts", "Settings", "Info"}
for i, name in ipairs(tabNames) do
	local TabBtn = Instance.new("TextButton", Frame)
	TabBtn.Size = UDim2.new(0, 100, 0, 25)
	TabBtn.Position = UDim2.new(0, (i-1)*100, 0, 30)
	TabBtn.Text = name
	TabBtn.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	TabBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	TabBtn.Font = Enum.Font.Gotham
	TabBtn.TextSize = 14

	local TabFrame = Instance.new("Frame", Frame)
	TabFrame.Size = UDim2.new(1, 0, 1, -60)
	TabFrame.Position = UDim2.new(0, 0, 0, 60)
	TabFrame.BackgroundTransparency = 1
	TabFrame.Visible = (i == 1)
	Tabs[name] = TabFrame

	TabBtn.MouseButton1Click:Connect(function()
		for _, v in pairs(Tabs) do v.Visible = false end
		TabFrame.Visible = true
	end)
end

-- Scripts Tab Content
do
	local parent = Tabs["Scripts"]

	local ExecuteBtn = Instance.new("TextButton", parent)
	ExecuteBtn.Size = UDim2.new(0, 200, 0, 30)
	ExecuteBtn.Position = UDim2.new(0, 20, 0, 10)
	ExecuteBtn.Text = "Infinite Yield Admin"
	ExecuteBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	ExecuteBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	ExecuteBtn.Font = Enum.Font.Gotham
	ExecuteBtn.TextSize = 14

	ExecuteBtn.MouseButton1Click:Connect(function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
	end)

	local InputBox = Instance.new("TextBox", parent)
	InputBox.Size = UDim2.new(0, 200, 0, 30)
	InputBox.Position = UDim2.new(0, 20, 0, 50)
	InputBox.PlaceholderText = "Enter raw GitHub URL..."
	InputBox.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	InputBox.TextColor3 = Color3.fromRGB(255, 255, 255)
	InputBox.Font = Enum.Font.Code
	InputBox.TextSize = 14

	local LoadBtn = Instance.new("TextButton", parent)
	LoadBtn.Size = UDim2.new(0, 100, 0, 30)
	LoadBtn.Position = UDim2.new(0, 230, 0, 50)
	LoadBtn.Text = "Run URL"
	LoadBtn.BackgroundColor3 = Color3.fromRGB(80, 80, 80)
	LoadBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
	LoadBtn.Font = Enum.Font.Gotham
	LoadBtn.TextSize = 14

	LoadBtn.MouseButton1Click:Connect(function()
		local url = InputBox.Text
		if url:match("^https?://") then
			pcall(function()
				loadstring(game:HttpGet(url))()
			end)
		end
	end)
end

-- Settings Tab
do
	local parent = Tabs["Settings"]

	local Toggle = Instance.new("TextButton", parent)
	Toggle.Size = UDim2.new(0, 150, 0, 30)
	Toggle.Position = UDim2.new(0, 20, 0, 10)
	Toggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
	Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
	Toggle.Font = Enum.Font.Gotham
	Toggle.TextSize = 14

	local toggleState = false
	local function updateToggle()
		Toggle.Text = "Toggle ESP: " .. (toggleState and "ON" or "OFF")
	end

	Toggle.MouseButton1Click:Connect(function()
		toggleState = not toggleState
		updateToggle()
	end)

	updateToggle()

	-- Slider (visual only, logic ready)
	local SliderFrame = Instance.new("Frame", parent)
	SliderFrame.Size = UDim2.new(0, 200, 0, 10)
	SliderFrame.Position = UDim2.new(0, 20, 0, 60)
	SliderFrame.BackgroundColor3 = Color3.fromRGB(100, 100, 100)

	local SliderBtn = Instance.new("TextButton", SliderFrame)
	SliderBtn.Size = UDim2.new(0, 10, 0, 20)
	SliderBtn.Position = UDim2.new(0, 0, -0.5, 0)
	SliderBtn.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
	SliderBtn.Text = ""

	local dragging = false
	SliderBtn.MouseButton1Down:Connect(function()
		dragging = true
	end)
	game:GetService("UserInputService").InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragging = false
		end
	end)
	game:GetService("RunService").RenderStepped:Connect(function()
		if dragging then
			local mouseX = game.Players.LocalPlayer:GetMouse().X
			local guiX = SliderFrame.AbsolutePosition.X
			local rel = math.clamp(mouseX - guiX, 0, SliderFrame.AbsoluteSize.X)
			SliderBtn.Position = UDim2.new(0, rel - 5, -0.5, 0)
			-- You can use: rel / SliderFrame.AbsoluteSize.X as slider value (0-1)
		end
	end)
end

-- Info Tab
do
	local parent = Tabs["Info"]
	local InfoText = Instance.new("TextLabel", parent)
	InfoText.Size = UDim2.new(1, -40, 1, -40)
	InfoText.Position = UDim2.new(0, 20, 0, 20)
	InfoText.BackgroundTransparency = 1
	InfoText.TextColor3 = Color3.fromRGB(255, 255, 255)
	InfoText.TextWrapped = true
	InfoText.Text = "This GUI was created by ðŸ¥· CodeNinja. Use with caution in exploit environment only. Do not use to violate TOS."
	InfoText.Font = Enum.Font.Gotham
	InfoText.TextSize = 14
end
