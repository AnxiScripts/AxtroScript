--// ADVANCED EXECUTOR GUI //--

local userInputService = game:GetService("UserInputService")
local coreGui = game:GetService("CoreGui")

-- Cleanup if already exists
if coreGui:FindFirstChild("AdvancedGUI") then
    coreGui.AdvancedGUI:Destroy()
end

-- Main UI
local gui = Instance.new("ScreenGui", coreGui)
gui.Name = "AdvancedGUI"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 500, 0, 300)
main.Position = UDim2.new(0.5, -250, 0.5, -150)
main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
main.BackgroundTransparency = 0.2
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true

-- Top Bar
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1, 0, 0, 35)
top.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
top.BorderSizePixel = 0

local title = Instance.new("TextLabel", top)
title.Size = UDim2.new(1, -70, 1, 0)
title.Position = UDim2.new(0, 10, 0, 0)
title.Text = "ðŸ”¥ Axtro - BrainRot Executor ðŸ”¥"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.TextXAlignment = Enum.TextXAlignment.Left

local close = Instance.new("TextButton", top)
close.Size = UDim2.new(0, 35, 1, 0)
close.Position = UDim2.new(1, -35, 0, 0)
close.Text = "X"
close.Font = Enum.Font.GothamBold
close.TextSize = 16
close.TextColor3 = Color3.fromRGB(255, 80, 80)
close.BackgroundTransparency = 1

local minimize = Instance.new("TextButton", top)
minimize.Size = UDim2.new(0, 35, 1, 0)
minimize.Position = UDim2.new(1, -70, 0, 0)
minimize.Text = "-"
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 16
minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
minimize.BackgroundTransparency = 1

-- Tabs
local tabFrame = Instance.new("Frame", main)
tabFrame.Size = UDim2.new(0, 120, 1, -35)
tabFrame.Position = UDim2.new(0, 0, 0, 35)
tabFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)

local tabs = {"Home", "Scripts", "Settings"}
local pages = {}

for i, tabName in ipairs(tabs) do
	local tabButton = Instance.new("TextButton", tabFrame)
	tabButton.Size = UDim2.new(1, 0, 0, 40)
	tabButton.Position = UDim2.new(0, 0, 0, (i - 1) * 40)
	tabButton.Text = tabName
	tabButton.Font = Enum.Font.Gotham
	tabButton.TextSize = 14
	tabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	tabButton.TextColor3 = Color3.fromRGB(255, 255, 255)

	local page = Instance.new("ScrollingFrame", main)
	page.Name = tabName
	page.Size = UDim2.new(1, -120, 1, -35)
	page.Position = UDim2.new(0, 120, 0, 35)
	page.CanvasSize = UDim2.new(0, 0, 3, 0)
	page.ScrollBarThickness = 6
	page.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
	page.Visible = i == 1

	pages[tabName] = page

	tabButton.MouseButton1Click:Connect(function()
		for _, p in pairs(pages) do p.Visible = false end
		page.Visible = true
	end)
end

-- Home Page
local function createToggle(parent, name, callback)
	local toggle = Instance.new("TextButton", parent)
	toggle.Size = UDim2.new(0, 200, 0, 30)
	toggle.Position = UDim2.new(0, 20, 0, #parent:GetChildren() * 35)
	toggle.Text = name .. ": OFF"
	toggle.Font = Enum.Font.Gotham
	toggle.TextSize = 14
	toggle.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
	local state = false

	toggle.MouseButton1Click:Connect(function()
		state = not state
		toggle.Text = name .. ": " .. (state and "ON" or "OFF")
		if callback then callback(state) end
	end)
end

createToggle(pages.Home, "ESP", function(on) print("ESP toggled", on) end)
createToggle(pages.Home, "Fly", function(on) print("Fly toggled", on) end)

-- Scripts Page
local scriptBtn = Instance.new("TextButton", pages.Scripts)
scriptBtn.Size = UDim2.new(0, 200, 0, 30)
scriptBtn.Position = UDim2.new(0, 20, 0, 10)
scriptBtn.Text = "Run Infinite Yield"
scriptBtn.Font = Enum.Font.Gotham
scriptBtn.TextSize = 14
scriptBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
scriptBtn.TextColor3 = Color3.fromRGB(255, 255, 255)

scriptBtn.MouseButton1Click:Connect(function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)

-- Settings Page
local label = Instance.new("TextLabel", pages.Settings)
label.Size = UDim2.new(0, 300, 0, 30)
label.Position = UDim2.new(0, 20, 0, 10)
label.Text = "Toggle UI: RightShift"
label.TextColor3 = Color3.fromRGB(200, 200, 200)
label.BackgroundTransparency = 1
label.Font = Enum.Font.Gotham
label.TextSize = 14

-- Visibility Toggle
userInputService.InputBegan:Connect(function(input, gpe)
	if input.KeyCode == Enum.KeyCode.RightShift then
		gui.Enabled = not gui.Enabled
	end
end)

-- Close & Minimize
close.MouseButton1Click:Connect(function()
	gui:Destroy()
end)

local isMinimized = false
minimize.MouseButton1Click:Connect(function()
	isMinimized = not isMinimized
	for _, v in pairs(main:GetChildren()) do
		if v ~= top and v ~= tabFrame then
			v.Visible = not isMinimized
		end
	end
end)
